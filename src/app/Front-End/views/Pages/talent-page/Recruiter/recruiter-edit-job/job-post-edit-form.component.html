
<div class="container  mt-5 mb-5 " *ngIf="!isLoading">
  <h5 class="mb-5" >{{ isEditMode ? 'Edit Job post' : 'View Job post' }}</h5>

  <form [formGroup]="jobPostUpdateForm" (ngSubmit)="updateJobPost()">

  <!-- Job ID, Job Role Title, Job Type, Job Level -->
  <div class="row mb-3">

      <div class="col">
          <label for="jobId" class="form-label fw-bold">Job ID <span class="required">*</span></label>
          <input type="text" id="jobId" formControlName="jobId" class="form-control form-control-sm" placeholder="Enter the Job ID" required>
          <small *ngIf="jobPostUpdateForm.get('jobId')?.hasError('required') && jobPostUpdateForm.get('jobId')?.touched" class="text-danger">Job ID is required.</small>
      </div>

      <div class="col">
          <label for="jobRoleTitle" class="form-label fw-bold">Job Role Title <span class="required">*</span></label>
          <input type="text" id="jobRoleTitle" formControlName="jobRoleTitle"  class="form-control form-control-sm" placeholder="Enter the job role" required>
          <small *ngIf="jobPostUpdateForm.get('jobRoleTitle')?.hasError('required') && jobPostUpdateForm.get('jobRoleTitle')?.touched" class="text-danger">Job Role Title is required.</small>

      </div>


      <div class="col">
          <label for="jobType" class="form-label fw-bold">Job Type <span class="required">*</span></label>
          <select id="jobType" class="form-select form-select-sm" formControlName="jobType" required>
              <option value="">Select Job Type</option>
              <option value="Full-time">Full-time</option>
              <option value="Part-time">Part-time</option>
              <option value="Contract">Contract</option>
              <option value="Freelancer">Freelancer</option>
          </select>
          <small *ngIf="jobPostUpdateForm.get('jobType')?.hasError('required') && jobPostUpdateForm.get('jobType')?.touched" class="text-danger">Job Type is required.</small>

      </div>


  </div>


  <!-- Salary, Experience, Location, Vacancy -->
  <div class="row mb-3">

      <div class="col">
          <label for="salary" class="form-label fw-bold">Salary <span class="required">*</span></label>
          <select id="salary"  class="form-select form-select-sm" formControlName="salary" aria-placeholder="select salary range" required>
              <option value="">Select Salary Range</option>
              <option value="3-5 Lakhs">3-5 Lakhs</option>
              <option value="6-9 Lakhs">6-9 Lakhs</option>
              <option value="10-12 Lakhs">10-12 Lakhs</option>
              <option value="15-18 Lakhs">15-18 Lakhs</option>
          </select>
          <small *ngIf="jobPostUpdateForm.get('salary')?.hasError('required') && jobPostUpdateForm.get('salary')?.touched" class="text-danger">Salary is required.</small>

      </div>


      <div class="col">
          <label for="vacancy" class="form-label fw-bold">Vacancy<span class="required">*</span></label>
          <input type="number" id="vacancy" formControlName="vacancy" class="form-control form-control-sm" placeholder="Enter the location" required>
          <small *ngIf="jobPostUpdateForm.get('vacancy')?.hasError('required') && jobPostUpdateForm.get('vacancy')?.touched" class="text-danger">Vacancy is required.</small>

      </div>


      <div class="col">
        <label for="applyByDate" class="form-label fw-bold">Apply By Date: <span class="required">*</span></label>
        <input type="date" id="applyByDate" formControlName="applyByDate" class="form-control form-control-sm" required>
        <small *ngIf="jobPostUpdateForm.get('applyByDate')?.hasError('required') && jobPostUpdateForm.get('applyByDate')?.touched" class="text-danger">Apply By Date is required.</small>

    </div>


  </div>

  <!-- Benefits, Apply By Date -->
  <div class="row mb-3">



  </div>

  <!-- Job Descriptions -->
  <div class="row">
      <div class="col">
          <label for="jobDescription" class="form-label fw-bold">Job Description <span class="required">*</span></label>
          <div class="NgxEditor__Wrapper">
            <ngx-editor-menu [editor]="editor" [toolbar]="toolbar"> </ngx-editor-menu>
            <ngx-editor [editor]="editor" id="jobDescription"  class="form-control form-control-sm" [formControl]="jobDescriptionControl" [placeholder]="'Enter job description'" required></ngx-editor>
          </div>
          <small *ngIf="jobPostUpdateForm.get('jobDescription')?.hasError('required') && jobPostUpdateForm.get('jobDescription')?.touched" class="text-danger">Job Description is required.</small>
      </div>
  </div>



  <div class="d-flex justify-content-between mt-5">
    <button type="button" class="btn btn-secondary" (click)="discardChanges()" *ngIf="isEditMode">Discard</button>
    <button type="submit" class="btn btn-primary" *ngIf="isEditMode">Update</button>
    <button type="button" class="btn btn-secondary" (click)=" goToJobpostPage()" *ngIf="!isEditMode">Back</button>
    <button type="button" class="btn btn-warning" (click)="openEditMode()" *ngIf="!isEditMode">Edit</button>
  </div>

  </form>
</div>

<div class="container-fluid" *ngIf="isLoading">
  <div class="text-center">
      <div class="spinner-border" role="status">
          <span class="visually-hidden">Loading...</span>
      </div>
      <div class="mt-3">
          <p>Creating Job Post</p>
      </div>
  </div>
</div>

