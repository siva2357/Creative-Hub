<div class="container my-5" *ngIf="!isLoading">
  <h5 class="mb-4">Create Job</h5>

  <form [formGroup]="jobPostForm" (ngSubmit)="submitJobPost()">
    <!-- Job ID, Job Role Title, Job Type -->
    <div class="row mb-3">
      <div class="col">
        <label for="jobId" class="form-label fw-bold">
          Job ID <span class="required">*</span>
        </label>
        <input
          type="text"
          id="jobId"
          formControlName="jobId"
          class="form-control form-control-sm"
          placeholder="Enter the Job ID"
          required
        />
        <small *ngIf="jobPostForm.get('jobId')?.hasError('required') && jobPostForm.get('jobId')?.touched" class="text-danger">
          Job ID is required.
        </small>
      </div>

      <div class="col">
        <label for="jobRoleTitle" class="form-label fw-bold">
          Job Role Title <span class="required">*</span>
        </label>
        <input
          type="text"
          id="jobRoleTitle"
          formControlName="jobRoleTitle"
          class="form-control form-control-sm"
          placeholder="Enter the job role"
          required
        />
        <small *ngIf="jobPostForm.get('jobRoleTitle')?.hasError('required') && jobPostForm.get('jobRoleTitle')?.touched" class="text-danger">
          Job Role Title is required.
        </small>
      </div>

      <div class="col">
        <label for="jobType" class="form-label fw-bold">
          Job Type <span class="required">*</span>
        </label>
        <select id="jobType" class="form-select form-select-sm" formControlName="jobType" required>
          <option value="">Select Job Type</option>
          <option value="Full-time">Full-time</option>
          <option value="Part-time">Part-time</option>
          <option value="Contract">Contract</option>
          <option value="Freelancer">Freelancer</option>
        </select>
        <small *ngIf="jobPostForm.get('jobType')?.hasError('required') && jobPostForm.get('jobType')?.touched" class="text-danger">
          Job Type is required.
        </small>
      </div>
    </div>

    <!-- Salary, Vacancy, Apply By Date -->
    <div class="row mb-3">
      <div class="col">
        <label for="salary" class="form-label fw-bold">
          Salary <span class="required">*</span>
        </label>
        <select id="salary" class="form-select form-select-sm" formControlName="salary" required>
          <option value="">Select Salary Range</option>
          <option value="3-5 Lakhs">3-5 Lakhs</option>
          <option value="6-9 Lakhs">6-9 Lakhs</option>
          <option value="10-12 Lakhs">10-12 Lakhs</option>
          <option value="15-18 Lakhs">15-18 Lakhs</option>
        </select>
        <small *ngIf="jobPostForm.get('salary')?.hasError('required') && jobPostForm.get('salary')?.touched" class="text-danger">
          Salary is required.
        </small>
      </div>

      <div class="col">
        <label for="vacancy" class="form-label fw-bold">
          Vacancy <span class="required">*</span>
        </label>
        <input
          type="number"
          id="vacancy"
          formControlName="vacancy"
          class="form-control form-control-sm"
          placeholder="Enter vacancy"
          required
        />
        <small *ngIf="jobPostForm.get('vacancy')?.hasError('required') && jobPostForm.get('vacancy')?.touched" class="text-danger">
          Vacancy is required.
        </small>
      </div>

      <div class="col">
        <label for="applyByDate" class="form-label fw-bold">
          Apply By Date <span class="required">*</span>
        </label>
        <input
          type="date"
          id="applyByDate"
          formControlName="applyByDate"
          class="form-control form-control-sm"
          required
        />
        <small *ngIf="jobPostForm.get('applyByDate')?.hasError('required') && jobPostForm.get('applyByDate')?.touched" class="text-danger">
          Apply By Date is required.
        </small>
      </div>
    </div>

    <!-- Job Description -->
    <div class="row mb-3">
      <div class="col">
        <label for="jobDescription" class="form-label fw-bold">
          Job Description <span class="required">*</span>
        </label>
        <div class="NgxEditor__Wrapper">
          <ngx-editor-menu [editor]="editor" [toolbar]="toolbar"></ngx-editor-menu>
          <ngx-editor
            [editor]="editor"
            class="form-control form-control-sm"
            formControlName="jobDescription"
            placeholder="Enter job description"
            required
          ></ngx-editor>
        </div>
        <small *ngIf="jobPostForm.get('jobDescription')?.hasError('required') && jobPostForm.get('jobDescription')?.touched" class="text-danger">
          Job Description is required.
        </small>
      </div>
    </div>

    <!-- Form Actions -->
    <div class="d-flex justify-content-between mt-5">
      <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">
        Close
      </button>
      <button type="submit" class="btn btn-success" [disabled]="jobPostForm.invalid">
        Submit
      </button>
    </div>
  </form>
</div>

<div class="container-fluid" *ngIf="isLoading">
  <div class="text-center">
    <div class="spinner-border" role="status">
      <span class="visually-hidden">Loading...</span>
    </div>
    <div class="mt-3">
      <p>Creating Job Post</p>
    </div>
  </div>
</div>
