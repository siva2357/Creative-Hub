

<div style="display: flex; align-items: center; gap: 5px; text-decoration: none;  color: inherit;">
  <i class="bi bi-arrow-left" style="font-size: 2rem; cursor: pointer;" (click)="goToCompanyPage()"></i>
  <p style="margin: 0;">Back</p>
</div>



<div class="container p-5">
  <form [formGroup]="companyPostForm" (ngSubmit)="submitCompany()">


    <div class="form-group col text-center step-container">
      <div class="card-profile-body   rounded-4 profile-container ">
        <div class="profile-avatar rounded-circle">
          <img id="avatarImage" [src]="previewURL || 'https://res.cloudinary.com/dpp8aspqs/image/upload/v1737024440/Logo_qboacm.svg'" alt="Avatar">
        </div>
      </div>

      <small class="text-muted mt-2" style="font-size: 12px; display: flex; align-items: center;">
        <span style="margin-right: 5px;"><i class="bi bi-info-circle" style="font-size: 1rem; color: rgb(0, 110, 255);"></i></span>Allowed formats: JPEG, PNG, JPG
      </small>

    </div>


    <input type="file" id="fileInput" formControlName="companyLogo" (change)="onFileChange($event)" hidden />
    <small *ngIf="companyPostForm.get('companyLogo')?.hasError('required') && companyPostForm.get('companyLogo')?.touched" class="text-danger"> Company logo is required.</small>


    <div class="d-flex flex-column align-items-center justify-content-center text-center">

      <!-- Icon Section -->
      <label for="fileInput" class="file-upload-label">
        <i class="bi bi-cloud-arrow-up upload-icon" style="font-size: 40px;" aria-hidden="true"></i>
      </label>

      <p class="text-center upload-text">Please upload your files here</p>

      <!-- Dynamic Progress Bar -->
      <div class="progress w-75 mt-3 mb-5" *ngIf="fileUploadProgress" role="progressbar" aria-label="Dynamic File Upload Progress">
        <div class="progress-bar" [style.width.%]="fileUploadProgress | async"> {{ fileUploadProgress | async }}% </div>
      </div>

    </div>


    <!-- Success message when upload is completed -->
    <div *ngIf="uploadComplete" class="mt-3">
      <p class="text-success text-center">Upload Completed!</p>
    </div>


    <div class="col  mt-3">
      <label for="companyId" class="form-label fw-bold" style="font-size: 14px;"> Company ID <span class="required">*</span></label>
      <input type="text" id="companyId" formControlName="companyId" class="form-control form-control-sm" placeholder="Enter the company ID" required>
      <small *ngIf="companyPostForm.get('companyId')?.hasError('required') && companyPostForm.get('companyId')?.touched" class="text-danger"> Company ID is required.</small>
    </div>

    <div class="col mt-3">
      <label for="companyName" class="form-label fw-bold" style="font-size: 14px;">Company Name <span class="required">*</span></label>
      <input type="text" id="companyName" formControlName="companyName" class="form-control form-control-sm" placeholder="Enter the company name" required>
      <small *ngIf="companyPostForm.get('companyName')?.hasError('required') && companyPostForm.get('companyName')?.touched" class="text-danger"> Company name is required.</small>
    </div>



    <!--University Descriptions -->
    <div class="col mt-3">
      <label for="companyDescription" class="form-label fw-bold" style="font-size: 14px;">Company Description <span class="required">*</span></label>
      <div class="NgxEditor__Wrapper">
        <ngx-editor-menu [editor]="editor" [toolbar]="toolbar"> </ngx-editor-menu>
        <ngx-editor [editor]="editor"  class="form-control form-control-sm" formControlName="companyDescription" [placeholder]="'Enter company description'" required></ngx-editor>
      </div>
      <small *ngIf="companyPostForm.get('companyDescription')?.hasError('required') && companyPostForm.get('companyDescription')?.touched" class="text-danger">Company description is required.</small>
    </div>

    <div class="col mt-3">
      <label for="companyAddress" class="form-label fw-bold" style="font-size: 14px;">Company Address <span class="required">*</span></label>
      <input type="text" id="companyAddress" formControlName="companyAddress" class="form-control form-control-sm" placeholder="Enter the company address" required>
      <small *ngIf="companyPostForm.get('companyAddress')?.hasError('required') && companyPostForm.get('companyAddress')?.touched" class="text-danger">Company Address is required.</small>
    </div>


    <div class="footer mt-5" style="justify-content: space-between; display: flex;">
      <button type="button" class="btn btn-secondary btn-sm" data-bs-dismiss="modal">Close</button>
      <button type="submit" class="btn btn-success btn-sm" [disabled]="companyPostForm.invalid">Submit</button>
    </div>


  </form>



</div>
